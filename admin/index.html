<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <title>4E - Painel Admin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    /* ========================================
       ESTILOS DO PREVIEW - Tema 4E
       ======================================== */

    .preview-frame {
      font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0a0a0a;
      min-height: 100vh;
      color: #fff;
      line-height: 1.6;
    }

    /* Hero Section */
    .preview-hero {
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
      padding: 4rem 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .preview-hero::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(125,250,180,0.1) 0%, transparent 70%);
      pointer-events: none;
    }

    .preview-hero-label {
      display: inline-block;
      padding: 0.5rem 1rem;
      background: rgba(255,255,255,0.1);
      border-radius: 50px;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(255,255,255,0.7);
      margin-bottom: 1.5rem;
    }

    .preview-hero-title {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .preview-hero-title .gradient {
      background: linear-gradient(90deg, #7DFAB4, #C4B5FD, #F0ABFC, #FCD34D);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .preview-hero-text {
      font-size: 1.1rem;
      color: rgba(255,255,255,0.7);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Section Base */
    .preview-section {
      padding: 3rem 2rem;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    .preview-section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: #7DFAB4;
      margin-bottom: 0.75rem;
    }

    .preview-section-title {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .preview-section-text {
      color: rgba(255,255,255,0.7);
      margin-bottom: 1rem;
    }

    /* Cards Grid */
    .preview-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .preview-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 1.5rem;
      transition: all 0.3s;
    }

    .preview-card:hover {
      background: rgba(255,255,255,0.05);
      border-color: rgba(255,255,255,0.15);
    }

    .preview-card-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .preview-card-text {
      font-size: 0.875rem;
      color: rgba(255,255,255,0.6);
    }

    /* 4 Pilares */
    .preview-pillars {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .preview-pillar {
      text-align: center;
      padding: 1.5rem 1rem;
      background: rgba(255,255,255,0.02);
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.05);
    }

    .preview-pillar-letter {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 0.5rem;
    }

    .preview-pillar-letter.gestao-publica { color: #7DFAB4; }
    .preview-pillar-letter.educacao-privada { color: #C4B5FD; }
    .preview-pillar-letter.educacao-corporativa { color: #F0ABFC; }
    .preview-pillar-letter.gestao-crises { color: #FCD34D; }

    .preview-pillar-name {
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .preview-pillar-desc {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.5);
    }

    /* Team */
    .preview-team {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .preview-team-member {
      text-align: center;
      padding: 1.5rem;
      background: rgba(255,255,255,0.02);
      border-radius: 12px;
    }

    .preview-team-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #7DFAB4, #C4B5FD);
      margin: 0 auto 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: 700;
      color: #0a0a0a;
    }

    .preview-team-name {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .preview-team-role {
      font-size: 0.75rem;
      color: #C4B5FD;
      margin-bottom: 0.5rem;
    }

    .preview-team-bio {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.5);
    }

    /* CTA Section */
    .preview-cta {
      background: linear-gradient(135deg, rgba(125,250,180,0.1) 0%, rgba(196,181,253,0.1) 50%, rgba(252,211,77,0.1) 100%);
      padding: 3rem 2rem;
      text-align: center;
      border-radius: 16px;
      margin: 2rem;
    }

    .preview-cta-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
    }

    .preview-cta-text {
      color: rgba(255,255,255,0.7);
      margin-bottom: 1.5rem;
    }

    .preview-btn {
      display: inline-block;
      padding: 0.875rem 2rem;
      background: linear-gradient(90deg, #7DFAB4, #C4B5FD);
      color: #0a0a0a;
      font-weight: 600;
      border-radius: 8px;
      text-decoration: none;
    }

    /* Logos Preview */
    .preview-logos {
      display: flex;
      gap: 2rem;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      flex-wrap: wrap;
    }

    .preview-logo-box {
      text-align: center;
      padding: 1.5rem;
      background: rgba(255,255,255,0.03);
      border-radius: 12px;
      min-width: 120px;
    }

    .preview-logo-box.dark {
      background: #1a1a1a;
    }

    .preview-logo-box img {
      max-width: 100px;
      max-height: 80px;
      object-fit: contain;
    }

    .preview-logo-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.4);
      margin-top: 0.75rem;
    }

    /* Info Grid */
    .preview-info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .preview-info-item {
      padding: 1rem;
      background: rgba(255,255,255,0.03);
      border-radius: 8px;
    }

    .preview-info-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.4);
      margin-bottom: 0.25rem;
    }

    .preview-info-value {
      font-weight: 500;
    }

    /* Services Preview */
    .preview-services {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .preview-service {
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 1.5rem;
      position: relative;
      overflow: hidden;
    }

    .preview-service-number {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 3rem;
      font-weight: 800;
      color: rgba(255,255,255,0.05);
    }

    .preview-service-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .preview-service-desc {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.6);
    }
  </style>
</head>
<body>
  <script src="https://unpkg.com/decap-cms@3.9.0/dist/decap-cms.js"></script>
  <script>
    // ========================================
    // PREVIEW: Configurações do Site
    // ========================================
    const SitePreview = createClass({
      render: function() {
        const data = this.props.entry.get('data').toJS();
        const logos = data.logos || {};
        const social = data.social || {};
        const getAsset = this.props.getAsset;

        return h('div', {className: 'preview-frame'},
          h('div', {className: 'preview-hero'},
            h('h1', {className: 'preview-hero-title'},
              h('span', {className: 'gradient'}, data.title || '4E Consultoria')
            ),
            h('p', {className: 'preview-hero-text'}, data.description)
          ),

          h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label'}, 'Logotipos da Marca'),
            h('div', {className: 'preview-logos'},
              logos.main && h('div', {className: 'preview-logo-box'},
                h('img', {src: getAsset(logos.main).toString()}),
                h('div', {className: 'preview-logo-label'}, 'Principal')
              ),
              logos.white && h('div', {className: 'preview-logo-box dark'},
                h('img', {src: getAsset(logos.white).toString()}),
                h('div', {className: 'preview-logo-label'}, 'Branco')
              ),
              logos.symbol && h('div', {className: 'preview-logo-box'},
                h('img', {src: getAsset(logos.symbol).toString()}),
                h('div', {className: 'preview-logo-label'}, 'Símbolo')
              )
            )
          ),

          h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label'}, 'Informações de Contato'),
            h('div', {className: 'preview-info-grid'},
              h('div', {className: 'preview-info-item'},
                h('div', {className: 'preview-info-label'}, 'E-mail'),
                h('div', {className: 'preview-info-value'}, data.email)
              ),
              h('div', {className: 'preview-info-item'},
                h('div', {className: 'preview-info-label'}, 'Telefone'),
                h('div', {className: 'preview-info-value'}, data.phone)
              ),
              h('div', {className: 'preview-info-item'},
                h('div', {className: 'preview-info-label'}, 'WhatsApp'),
                h('div', {className: 'preview-info-value'}, data.whatsapp)
              ),
              h('div', {className: 'preview-info-item'},
                h('div', {className: 'preview-info-label'}, 'Localização'),
                h('div', {className: 'preview-info-value'}, data.location)
              )
            )
          )
        );
      }
    });

    // ========================================
    // PREVIEW: Página Sobre
    // ========================================
    const SobrePreview = createClass({
      render: function() {
        const data = this.props.entry.get('data').toJS();
        const hero = data.hero || {};
        const purpose = data.purpose || {};
        const pillars = data.pillars || {};
        const essence = data.essence || {};
        const team = data.team || {};
        const cta = data.cta || {};

        return h('div', {className: 'preview-frame'},
          // Hero
          h('div', {className: 'preview-hero'},
            h('div', {className: 'preview-hero-label'}, hero.label || 'Sobre a 4E'),
            h('h1', {className: 'preview-hero-title'},
              h('span', {dangerouslySetInnerHTML: {__html: (hero.title || '').replace(/text-gradient-animated|text-gradient/g, 'gradient')}})
            ),
            h('p', {className: 'preview-hero-text'}, hero.text)
          ),

          // Propósito
          purpose.title && h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label'}, purpose.label || 'Propósito'),
            h('h2', {className: 'preview-section-title', dangerouslySetInnerHTML: {__html: purpose.title}}),
            (purpose.paragraphs || []).map(function(p, i) {
              return h('p', {key: i, className: 'preview-section-text'}, p);
            })
          ),

          // 4 Pilares
          pillars.items && h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label'}, pillars.label || 'Os 4 Pilares'),
            h('h2', {className: 'preview-section-title', dangerouslySetInnerHTML: {__html: pillars.title}}),
            h('div', {className: 'preview-pillars'},
              pillars.items.map(function(pillar, i) {
                return h('div', {key: i, className: 'preview-pillar'},
                  h('div', {className: 'preview-pillar-letter ' + (pillar.color || '')}, pillar.letter),
                  h('div', {className: 'preview-pillar-name'}, pillar.name),
                  h('div', {className: 'preview-pillar-desc'}, pillar.description)
                );
              })
            )
          ),

          // Essência
          essence.items && h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label'}, essence.label || 'Nossa Essência'),
            h('h2', {className: 'preview-section-title', dangerouslySetInnerHTML: {__html: essence.title}}),
            h('div', {className: 'preview-cards'},
              essence.items.map(function(item, i) {
                return h('div', {key: i, className: 'preview-card'},
                  h('div', {className: 'preview-card-title'}, item.title),
                  h('div', {className: 'preview-card-text'}, item.description)
                );
              })
            )
          ),

          // CTA
          cta.title && h('div', {className: 'preview-cta'},
            h('h2', {className: 'preview-cta-title'}, cta.title),
            h('p', {className: 'preview-cta-text'}, cta.subtitle),
            h('a', {className: 'preview-btn', href: cta.buttonLink}, cta.buttonText)
          )
        );
      }
    });

    // ========================================
    // PREVIEW: Hero da Home
    // ========================================
    const HeroPreview = createClass({
      render: function() {
        const data = this.props.entry.get('data').toJS();
        const title = data.title || {};
        const cta = data.cta || {};

        return h('div', {className: 'preview-frame'},
          h('div', {className: 'preview-hero', style: {minHeight: '400px'}},
            data.badge && h('div', {className: 'preview-hero-label'}, data.badge),
            h('h1', {className: 'preview-hero-title', style: {fontSize: '3rem'}},
              title.line1 && h('span', {}, title.line1), h('br'),
              title.line2 && h('span', {}, title.line2), h('br'),
              title.line3 && h('span', {className: 'gradient'}, title.line3)
            ),
            h('p', {className: 'preview-hero-text', style: {marginTop: '1.5rem'}}, data.subtitle),
            h('div', {style: {marginTop: '2rem', display: 'flex', gap: '1rem', justifyContent: 'center'}},
              cta.primary && h('a', {className: 'preview-btn'}, cta.primary.text),
              cta.secondary && h('a', {className: 'preview-btn', style: {background: 'transparent', border: '1px solid rgba(255,255,255,0.3)', color: '#fff'}}, cta.secondary.text)
            )
          )
        );
      }
    });

    // ========================================
    // PREVIEW: Serviços
    // ========================================
    const ServicesPreview = createClass({
      render: function() {
        const data = this.props.entry.get('data').toJS();
        const services = data.services || [];
        const getAsset = this.props.getAsset;

        return h('div', {className: 'preview-frame'},
          h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label'}, 'Nossas Soluções'),
            h('h2', {className: 'preview-section-title'},
              h('span', {className: 'gradient'}, '4 Áreas de Atuação')
            ),
            h('div', {className: 'preview-services'},
              services.map(function(service, i) {
                return h('div', {key: i, className: 'preview-service'},
                  h('div', {className: 'preview-service-number'}, service.number),
                  service.symbol && h('img', {src: getAsset(service.symbol).toString(), style: {width: '40px', height: '40px', marginBottom: '1rem'}}),
                  h('div', {className: 'preview-service-title'}, service.title),
                  h('div', {className: 'preview-service-desc'}, service.description)
                );
              })
            )
          )
        );
      }
    });

    // ========================================
    // PREVIEW: Páginas de Serviço (genérico)
    // ========================================
    const ServicePagePreview = createClass({
      render: function() {
        const data = this.props.entry.get('data').toJS();
        const hero = data.hero || {};
        const purpose = data.purpose || {};
        const challenges = data.challenges || {};
        const services = data.services || {};
        const cta = data.cta || {};

        const colorMap = {
          'gestao-publica': '#7DFAB4',
          'educacao-privada': '#C4B5FD',
          'educacao-corporativa': '#F0ABFC',
          'gestao-crises': '#FCD34D'
        };
        const accentColor = colorMap[data.id] || '#7DFAB4';

        return h('div', {className: 'preview-frame'},
          // Hero
          h('div', {className: 'preview-hero'},
            h('h1', {className: 'preview-hero-title'},
              h('span', {dangerouslySetInnerHTML: {__html: (hero.title || data.title || '').replace(/text-gradient/g, 'gradient')}})
            ),
            h('p', {className: 'preview-hero-text'}, hero.subtitle)
          ),

          // Propósito
          purpose.title && h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label', style: {color: accentColor}}, purpose.label),
            h('h2', {className: 'preview-section-title', dangerouslySetInnerHTML: {__html: purpose.title}}),
            (purpose.paragraphs || []).map(function(p, i) {
              return h('p', {key: i, className: 'preview-section-text'}, p);
            })
          ),

          // Desafios
          challenges.items && h('div', {className: 'preview-section', style: {background: 'rgba(255,255,255,0.02)'}},
            h('div', {className: 'preview-section-label', style: {color: accentColor}}, challenges.label),
            h('h2', {className: 'preview-section-title', dangerouslySetInnerHTML: {__html: challenges.title}}),
            h('p', {className: 'preview-section-text'}, challenges.subtitle),
            h('div', {className: 'preview-cards'},
              challenges.items.map(function(item, i) {
                return h('div', {key: i, className: 'preview-card'},
                  h('div', {className: 'preview-card-title'}, item.title),
                  h('div', {className: 'preview-card-text'}, item.description)
                );
              })
            )
          ),

          // Serviços
          services.items && h('div', {className: 'preview-section'},
            h('div', {className: 'preview-section-label', style: {color: accentColor}}, services.label),
            h('h2', {className: 'preview-section-title', dangerouslySetInnerHTML: {__html: services.title}}),
            h('div', {className: 'preview-cards'},
              services.items.map(function(item, i) {
                return h('div', {key: i, className: 'preview-card'},
                  h('div', {className: 'preview-card-title'}, item.title),
                  h('div', {className: 'preview-card-text'}, item.description)
                );
              })
            )
          ),

          // CTA
          cta.title && h('div', {className: 'preview-cta'},
            h('h2', {className: 'preview-cta-title'}, cta.title),
            h('p', {className: 'preview-cta-text'}, cta.subtitle),
            h('a', {className: 'preview-btn'}, cta.buttonText)
          )
        );
      }
    });

    // ========================================
    // REGISTRAR TODOS OS PREVIEWS
    // ========================================
    CMS.registerPreviewTemplate('site', SitePreview);
    CMS.registerPreviewTemplate('sobre', SobrePreview);
    CMS.registerPreviewTemplate('hero', HeroPreview);
    CMS.registerPreviewTemplate('services', ServicesPreview);
    CMS.registerPreviewTemplate('gestao-publica', ServicePagePreview);
    CMS.registerPreviewTemplate('educacao-privada', ServicePagePreview);
    CMS.registerPreviewTemplate('educacao-corporativa', ServicePagePreview);
    CMS.registerPreviewTemplate('gestao-crises', ServicePagePreview);
  </script>
</body>
</html>
